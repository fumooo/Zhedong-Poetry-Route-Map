{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { setRoutes } from \"@/router\";\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      admin: {},\n      rules: {\n        account: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 10,\n          message: '长度在 3 到 5 个字符',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 1,\n          max: 20,\n          message: '长度在 1 到 20 个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    login() {\n      this.$refs['userForm'].validate(valid => {\n        if (valid) {\n          // 表单校验合法\n          this.$http.post(\"/login\", this.admin).then(res => {\n            // console.log(res.data)\n            if (res.data) {\n              this.$store.dispatch('updateLoginForm', res.data);\n              this.$message.success(\"登录成功\");\n              this.$router.push({\n                path: '/backIndex/CityManage'\n              });\n            } else {\n              this.$message.error(\"账号或密码错误\");\n            }\n          });\n        }\n      });\n    },\n    logist() {\n      console.log(11);\n    }\n  }\n};","map":{"version":3,"mappings":";AAuBA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;QACAC,UACA;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,EACA;QACAG,WACA;UAAAL;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA;MAEA;IACA;EACA;EACAI;IACAC;MACA;QACA;UAAA;UACA;YACA;YACA;cAEA;cAEA;cACA;gBAAAC;cAAA;YAEA;cACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACAC;IACA;EACA;AACA","names":["name","data","admin","rules","account","required","message","trigger","min","max","password","methods","login","path","logist","console"],"sourceRoot":"src/view/back/Login","sources":["Login.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\"  >\n    <div\n        style=\"margin: 200px auto; background-color: #fff; width: 350px; height: 280px; padding: 20px; border-radius: 10px\">\n      <div style=\"margin: 20px 0; text-align: center; font-size: 24px\"><b>管理员登录</b></div>\n      <el-form :model=\"admin\" :rules=\"rules\" ref=\"userForm\" @keyup.enter.native=\"login\">\n        <el-form-item prop=\"account\">\n          <el-input size=\"medium\" prefix-icon=\"el-icon-user\" v-model=\"admin.account\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input size=\"medium\" prefix-icon=\"el-icon-lock\" show-password \n                    v-model=\"admin.password\"></el-input>\n        </el-form-item>\n        <el-form-item style=\"margin: 10px 0; text-align: center\">\n          <el-button type=\"primary\" size=\"small\" autocomplete=\"off\" @click=\"login\">登录</el-button>\n          <el-button type=\"primary\" size=\"small\" autocomplete=\"off\" @click=\"logist\">注册</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {setRoutes} from \"@/router\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      admin: {},\n      rules: {\n        account: [\n          {required: true, message: '请输入用户名', trigger: 'blur'},\n          {min: 3, max: 10, message: '长度在 3 到 5 个字符', trigger: 'blur'}\n        ],\n        password: [\n          {required: true, message: '请输入密码', trigger: 'blur'},\n          {min: 1, max: 20, message: '长度在 1 到 20 个字符', trigger: 'blur'}\n        ],\n      }\n    }\n  },\n  methods: {\n    login() {\n      this.$refs['userForm'].validate((valid) => {\n        if (valid) {  // 表单校验合法\n          this.$http.post(\"/login\", this.admin).then(res => {\n            // console.log(res.data)\n            if (res.data) {\n\n              this.$store.dispatch('updateLoginForm',res.data)\n              \n              this.$message.success(\"登录成功\")\n              this.$router.push({path: '/backIndex/CityManage'})\n              \n            } else {\n              this.$message.error(\"账号或密码错误\")\n            }\n          })\n        }\n      });\n    },\n    logist(){\n      console.log(11)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.wrapper {\n  height: 100vh;\n   background-image: linear-gradient(to bottom right, #fc7446, #fb973f); \n  overflow: hidden;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}