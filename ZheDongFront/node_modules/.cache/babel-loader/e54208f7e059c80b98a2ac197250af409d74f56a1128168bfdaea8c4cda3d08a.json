{"ast":null,"code":"import { BmlCurveLine } from 'vue-baidu-map';\nimport { mapState } from 'vuex';\nexport default {\n  components: {\n    BmlCurveLine\n  },\n  name: \"baidu\",\n  mounted: function () {\n    // this.lineList = this.addlineList(this.positions)\n    // console.log(this.lineList)\n    // console.log(this.lineList[0][1].name)\n  },\n  data() {\n    return {\n      style: {\n        border: '1px solid rgb(187, 187, 187)',\n        font: '12px arial'\n      },\n      center: {\n        lng: 0,\n        lat: 0\n      },\n      zoom: 8,\n      // 宁波、绍兴、台州、温州，金华、丽水、衢州 经纬度\n      positions: [\n        // {id:1, lng: 121.555, lat: 29.9, name:'宁波', showflag:true},\n        // {id:2, lng: 120.586, lat: 30.05, name:'绍兴', showflag:true},\n        // {id:3, lng: 121.43, lat: 28.68, name:'台州', showflag:true},\n        // {id:4, lng: 120.7, lat: 28.01, name:'温州', showflag:true},\n        // {id:5, lng: 119.649506, lat: 29.089524, name:'金华', showflag:true},\n        // {id:6, lng: 119.933, lat: 28.48, name:'丽水', showflag:true},\n        // {id:7, lng: 118.87263, lat: 28.99, name:'衢州', showflag:true},\n      ],\n      lineList: [{\n        '1': {\n          \"name\": \"1234\"\n        }\n      }, {}]\n    };\n  },\n  methods: {\n    handler({\n      BMap,\n      map\n    }) {\n      console.log(BMap, map);\n      // // 经度\n      // this.center.lng = 116.404\n      // // 维度\n      // this.center.lat = 39.915\n      this.center = \"台州\";\n      // 地图放大等级\n\n      // 个性化样式\n      map.setMapStyleV2({\n        styleId: \"2896c69336cf847cc5ab917cd1e19d44\"\n      });\n      map.enableScrollWheelZoom(true);\n      // map.setMapType(BMAP_HYBRID_MAP);\n    }\n    // addlineList(positions){\n    //   let arr = [];\n    //   if(this.positions[0].showflag == true){\n    //   for(let i = 0; i < positions.length; i++){\n    //       let obj = {\n    //                   lng: positions[i].lng,\n    //                   lat: positions[i].lat\n    //                 }\n    //       arr.push(obj);\n    //     }\n    //   }\n    //   return arr;\n    // },\n  },\n\n  computed: {\n    poemList() {\n      return this.$store.state.poemList;\n    }\n  },\n  watch: {\n    poemList(newVal, oldVal) {\n      for (let i = 0; i <= newVal.length; i++) {\n        axios.get(\"cityById\", {\n          params: {\n            name: id\n          }\n        }).then(response => {\n          this.positions = response.data;\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n      console.log(positions);\n    }\n  }\n};","map":{"version":3,"mappings":"AAuBA;AACA;AACA;EACAA;IAAAC;EAAA;EACAC;EACAC;IACA;IACA;IACA;EAAA,CACA;EACAC;IACA;MACAC;QAAAC;QAAAC;MAAA;MACAC;QAAAC;QAAAC;MAAA;MACAC;MACA;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAAA,CACA;MACAC,WACA;QACA;UAAA;QAAA;MACA,GACA;IAEA;EACA;EACAC;IACAC;MAAAC;MAAAC;IAAA;MACAC;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACAD;QACAE;MACA;MACAF;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;;EACAG;IACAC;MACA;IACA;EACA;EACAC;IACAD;MACA;QACAE;UACAC;YACAtB;UACA;QACA,GACAuB;UACA;QACA,GACAC;UACAR;QACA;MACA;MACAA;IACA;EACA;AACA","names":["components","BmlCurveLine","name","mounted","data","style","border","font","center","lng","lat","zoom","positions","lineList","methods","handler","BMap","map","console","styleId","computed","poemList","watch","axios","params","then","catch"],"sourceRoot":"src/components","sources":["BaiduMap.vue"],"sourcesContent":["<template>\n  <div>\n    <baidu-map :center=\"center\" :zoom=\"zoom\" @ready=\"handler\" class=\"baidu\" MapType=\"BMAP_HYBRID_MAP\">\n      <bm-navigation anchor=\"BMAP_ANCHOR_TOP_LEFT\"></bm-navigation>\n      <bm-overview-map anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\" :isOpen=\"false\"></bm-overview-map>\n      <bm-map-type :map-types=\"['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP']\" anchor=\"BMAP_ANCHOR_TOP_RIGHT\"></bm-map-type>\n      \n      <div>\n      <bm-marker v-for='position in positions' :key=\"position.id\" v-if='position.showflag' :position=\"{lng: position.lng, lat: position.lat}\">\n        <bm-label :content=\"position.name\" \n        :labelStyle=\"style\" \n        :offset=\"{width: -8, height: 29}\"\n        />\n      </bm-marker>\n      <bml-curve-line :points=\"lineList\" stroke-color=\"pink\" :stroke-opacity=\"1\" :stroke-weight=\"2\" ></bml-curve-line>\n      </div>\n      \n      <!-- <bm-polyline :path=\"lineList\" stroke-color=\"blue\" :stroke-opacity=\"1\" :stroke-weight=\"2\" :editing=\"true\" ></bm-polyline> -->\n    </baidu-map>\n  </div>\n</template>\n\n<script>\nimport {BmlCurveLine} from 'vue-baidu-map'\nimport {mapState} from 'vuex'\nexport default {\n  components:{BmlCurveLine},\n  name: \"baidu\",\n  mounted:function(){\n    // this.lineList = this.addlineList(this.positions)\n    // console.log(this.lineList)\n    // console.log(this.lineList[0][1].name)\n  },\n  data() {\n    return {\n      style:{border:'1px solid rgb(187, 187, 187)', font:'12px arial'},\n      center: { lng: 0, lat: 0 },\n      zoom: 8,\n      // 宁波、绍兴、台州、温州，金华、丽水、衢州 经纬度\n      positions:[\n        // {id:1, lng: 121.555, lat: 29.9, name:'宁波', showflag:true},\n        // {id:2, lng: 120.586, lat: 30.05, name:'绍兴', showflag:true},\n        // {id:3, lng: 121.43, lat: 28.68, name:'台州', showflag:true},\n        // {id:4, lng: 120.7, lat: 28.01, name:'温州', showflag:true},\n        // {id:5, lng: 119.649506, lat: 29.089524, name:'金华', showflag:true},\n        // {id:6, lng: 119.933, lat: 28.48, name:'丽水', showflag:true},\n        // {id:7, lng: 118.87263, lat: 28.99, name:'衢州', showflag:true},\n      ],\n      lineList:[\n        {\n          '1':{\"name\":\"1234\"},\n        },\n        {},\n      ],\n    };\n  },\n  methods: {\n    handler({ BMap, map }) {\n      console.log(BMap, map);\n      // // 经度\n      // this.center.lng = 116.404\n      // // 维度\n      // this.center.lat = 39.915\n      this.center = \"台州\";\n      // 地图放大等级\n      \n      // 个性化样式\n      map.setMapStyleV2({\n        styleId: \"2896c69336cf847cc5ab917cd1e19d44\",\n      });\n      map.enableScrollWheelZoom(true);\n      // map.setMapType(BMAP_HYBRID_MAP);\n    },\n    // addlineList(positions){\n    //   let arr = [];\n    //   if(this.positions[0].showflag == true){\n    //   for(let i = 0; i < positions.length; i++){\n    //       let obj = {\n    //                   lng: positions[i].lng,\n    //                   lat: positions[i].lat\n    //                 }\n    //       arr.push(obj);\n    //     }\n    //   }\n    //   return arr;\n    // },\n  },\n  computed:{\n    poemList(){\n\t\t\treturn this.$store.state.poemList\n\t\t}\n  },\n  watch:{\n    poemList(newVal,oldVal){\n      for(let i = 0; i <= newVal.length; i++){\n        axios.get(\"cityById\",{\n            params: {\n            name: id\n           }\n         })\n         .then((response)=>{\n            this.positions = response.data\n         }) \n         .catch(function (error) {\n           console.log(error);\n         }) \n      }\n      console.log(positions)\n    }\n  }\n};\n</script>\n\n<style scoped>\n.baidu {\n  width: 100%;\n  height: 500px;\n  display: flex;\n}\n.baidu-map {\n  width: 100%;\n  height: 500px;\n  display: flex;\n}\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}